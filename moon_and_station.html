<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>åœ°çƒã€æœˆç›¸èˆ‡æ˜Ÿç©º</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #0a0a2a;
            cursor: none;
            transition: background-color 3s ease;
        }

        .star {
            position: absolute;
            pointer-events: none;
            transition: opacity 1s, color 2s;
        }

        #earth {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            font-size: 300px;
            pointer-events: none;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            z-index: 1;
            transition: filter 0.5s, text-shadow 0.5s;
        }

        #moon {
            position: fixed;
            width: 200px;
            height: 200px;
            pointer-events: none;
            transition: transform 0.1s ease-out, z-index 0.1s, filter 0.5s;
            background-image: url('./image/station.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        /* æ–°å¢æç¤ºæ–‡å­—æ¨£å¼ */
        #musicPrompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 16px;
            text-align: center;
            opacity: 0.8;
            z-index: 3;
        }

        /* æ·»åŠ æµæ˜Ÿæ¨£å¼ */
        .meteor {
            position: absolute;
            width: 4px;
            height: 4px;
            background: linear-gradient(to right, white, transparent);
            border-radius: 50%;
            transform: rotate(-45deg);
            pointer-events: none;
            filter: blur(1px);
        }

        .meteor::before {
            content: '';
            position: absolute;
            width: 100px;
            height: 2px;
            background: linear-gradient(to right, white, transparent);
            transform: translateX(-100%);
        }
    </style>
</head>
<body>
    <div id="earth">ğŸŒ</div>
    <div id="moon"></div>
    <!-- æ–°å¢éŸ³æ¨‚å…ƒç´ å’Œæç¤ºæ–‡å­— -->
    <audio id="bgMusic" loop>
        <source src="./music/ì•„íŒŒíŠ¸ ê²Œì„.mp3" type="audio/mp3">
    </audio>
    <div id="musicPrompt">é»æ“Šç•«é¢æ’­æ”¾éŸ³æ¨‚</div>

<script>
    // å®šç¾©ä¸€äº›æ¼‚äº®çš„é¡è‰²
    const colors = [
        '#ff6b6b', // ç´…
        '#4ecdc4', // é’
        '#45b7d1', // è—
        '#96ceb4', // ç¶ 
        '#ffeead', // é»ƒ
        '#ff9999', // ç²‰
        '#87ceeb', // å¤©è—
        '#dda0dd', // ç´«
        '#90ee90', // æ·ºç¶ 
        '#ffd700'  // é‡‘
    ];

    function getRandomColor() {
        return colors[Math.floor(Math.random() * colors.length)];
    }

    // ä¿®æ”¹å‰µå»ºæ˜Ÿæ˜Ÿçš„å‡½æ•¸
    function createStar() {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * window.innerWidth + 'px';
        star.style.top = Math.random() * window.innerHeight + 'px';
        star.style.fontSize = Math.random() * 8 + 4 + 'px';
        star.textContent = 'âœ¦';
        star.style.opacity = Math.random() * 0.7 + 0.3;
        star.style.color = getRandomColor();
        
        // æ·»åŠ å½©è‰²ç™¼å…‰æ•ˆæœ
        const color = getRandomColor();
        star.style.textShadow = `0 0 5px ${color},
                                0 0 10px ${color},
                                0 0 15px ${color}`;
        
        document.body.appendChild(star);
        return star;
    }

    // ä¿®æ”¹æ˜Ÿæ˜Ÿé–ƒçˆæ•ˆæœï¼ŒåŠ å…¥é¡è‰²è®ŠåŒ–
    function twinkleStar(star) {
        // é–ƒçˆæ•ˆæœ
        setInterval(() => {
            star.style.opacity = Math.random() * 0.7 + 0.3;
        }, Math.random() * 3000 + 1000);

        // é¡è‰²è®ŠåŒ–æ•ˆæœ
        setInterval(() => {
            const color = getRandomColor();
            star.style.color = color;
            star.style.textShadow = `0 0 5px ${color},
                                    0 0 10px ${color},
                                    0 0 15px ${color}`;
        }, Math.random() * 5000 + 3000);
    }

    // å®šç¾©åœ°çƒçš„é¡è‰²æ•ˆæœ
    const earthFilters = [
        'hue-rotate(0deg) brightness(1)',      // åŸè‰²
        'hue-rotate(120deg) brightness(1.2)',  // ç¶ è‰²èª¿
        'hue-rotate(240deg) brightness(1.1)'   // è—è‰²èª¿
    ];

    // åœ°çƒå‹•ç•«
    const earthPhases = ['ğŸŒ', 'ğŸŒ', 'ğŸŒ'];
    let currentEarthPhase = 0;
    const earth = document.getElementById('earth');

    function updateEarthColor() {
        const filter = earthFilters[currentEarthPhase];
        earth.style.filter = filter;
        
        // æ ¹æ“šç•¶å‰æ¿¾é¡è¨ˆç®—å°æ‡‰çš„ç™¼å…‰é¡è‰²
        const hue = (currentEarthPhase * 120) % 360; // 120åº¦é–“éš”çš„è‰²ç›¸
        const glowColor = `hsl(${hue}, 100%, 70%)`;
        
        earth.style.textShadow = `
            0 0 20px ${glowColor}88,
            0 0 40px ${glowColor}66,
            0 0 60px ${glowColor}44,
            0 0 80px ${glowColor}22
        `;
    }

    setInterval(() => {
        currentEarthPhase = (currentEarthPhase + 1) % earthPhases.length;
        earth.textContent = earthPhases[currentEarthPhase];
        updateEarthColor();
    }, 1000);

    // å®šç¾©æœˆäº®çš„é¡è‰²æ•ˆæœ
    const moonFilters = [
        'hue-rotate(0deg) brightness(1) saturate(1.5)',     // åŸè‰²
        'hue-rotate(60deg) brightness(1.3) saturate(1.8)',  // é»ƒè‰²èª¿
        'hue-rotate(120deg) brightness(1.4) saturate(1.8)', // ç¶ è‰²èª¿
        'hue-rotate(180deg) brightness(1.3) saturate(1.8)', // é’è‰²èª¿
        'hue-rotate(240deg) brightness(1.2) saturate(1.8)', // è—è‰²èª¿
        'hue-rotate(300deg) brightness(1.3) saturate(1.8)', // ç´«è‰²èª¿
        'hue-rotate(330deg) brightness(1.4) saturate(1.8)', // ç²‰è‰²èª¿
        'hue-rotate(30deg) brightness(1.5) saturate(1.8)'   // æ©™è‰²èª¿
    ];

    // æœˆç›¸å‹•ç•«
    // const moonPhases = ['ğŸŒ•', 'ğŸŒ•', 'ğŸŒ•', 'ğŸŒ•', 'ğŸŒ•', 'ğŸŒ•', 'ğŸŒ•', 'ğŸŒ•'];  // ä½¿ç”¨æ»¿æœˆä¾†å±•ç¤ºé¡è‰²
    let currentPhase = 0;
    const moon = document.getElementById('moon');
    let lastX = 0;

    function updateMoonColor() {
        const filter = moonFilters[currentPhase];
        moon.style.filter = filter + ' drop-shadow(0 0 15px rgba(255,255,255,0.6))';
    }

    setInterval(() => {
        currentPhase = (currentPhase + 1) % moonFilters.length;
        updateMoonColor();
    }, 200);

    // ä¿®æ”¹æœˆçƒï¼ˆå¤ªç©ºç«™ï¼‰å‹•ç•«ç›¸é—œä»£ç¢¼
    let angle = 0;
    const radius = 200; // æ—‹è½‰åŠå¾‘
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;
    
    function updateStationPosition() {
        // è¨ˆç®—å¤ªç©ºç«™ä½ç½®
        const x = centerX + radius * Math.cos(angle);
        const y = centerY + radius * Math.sin(angle);
        
        // æ›´æ–°å¤ªç©ºç«™ä½ç½®
        moon.style.left = (x - 100) + 'px';
        moon.style.top = (y - 100) + 'px';
        
        // èª¿æ•´å±¤ç´šï¼ˆç•¶å¤ªç©ºç«™åœ¨åœ°çƒå¾Œé¢æ™‚ï¼‰
        moon.style.zIndex = Math.sin(angle) < 0 ? 0 : 2;
        
        // æ›´æ–°è§’åº¦
        angle += 0.02; // æ§åˆ¶æ—‹è½‰é€Ÿåº¦
    }

    // æ·»åŠ å‹•ç•«å¾ªç’°
    function animate() {
        updateStationPosition();
        requestAnimationFrame(animate);
    }

    // é–‹å§‹å‹•ç•«
    animate();

    // è¦–çª—å¤§å°æ”¹è®Šæ™‚æ›´æ–°ä¸­å¿ƒé»
    window.addEventListener('resize', () => {
        centerX = window.innerWidth / 2;
        centerY = window.innerHeight / 2;
    });

    // åˆå§‹åŒ–æ˜Ÿç©º
    for (let i = 0; i < 150; i++) {
        const star = createStar();
        twinkleStar(star);
    }

    // è¦–çª—èª¿æ•´å¤§å°æ™‚é‡æ–°å‰µå»ºæ˜Ÿæ˜Ÿ
    window.addEventListener('resize', () => {
        const stars = document.querySelectorAll('.star');
        stars.forEach(star => star.remove());
        for (let i = 0; i < 150; i++) {
            const star = createStar();
            twinkleStar(star);
        }
    });

    // æ–°å¢éŸ³æ¨‚æ§åˆ¶ç›¸é—œä»£ç¢¼
    const bgMusic = document.getElementById('bgMusic');
    const musicPrompt = document.getElementById('musicPrompt');
    let isMusicStarted = false;

    document.addEventListener('click', () => {
        if (!isMusicStarted) {
            bgMusic.play();
            isMusicStarted = true;
            musicPrompt.style.display = 'none';
        }
    });

    // ä¿®æ”¹èƒŒæ™¯é¡è‰²è®ŠåŒ–æ•ˆæœï¼Œä½¿ç”¨æ›´æ˜äº®çš„é¡è‰²
    const backgroundColors = [
        '#1e3799', // äº®è—è‰²
        '#4834d4', // ç´«è‰²
        '#686de0', // æ·ºç´«è‰²
        '#be2edd', // ç²‰ç´«è‰²
        '#4bcffa', // å¤©è—è‰²
        '#45aaf2', // æ¹–è—è‰²
        '#2ecc71', // ç¿ ç¶ è‰²
        '#3498db', // å¯¶è—è‰²
        '#9b59b6', // æ·ºç´«è‰²
        '#f1c40f'  // é‡‘é»ƒè‰²
    ];

    let currentBgIndex = 0;
    
    // èƒŒæ™¯é¡è‰²è®ŠåŒ–ï¼Œèª¿æ•´æ™‚é–“é–“éš”ç‚º3ç§’
    setInterval(() => {
        document.body.style.backgroundColor = backgroundColors[currentBgIndex];
        currentBgIndex = (currentBgIndex + 1) % backgroundColors.length;
    }, 1000);  // æ¯3ç§’è®Šæ›ä¸€æ¬¡é¡è‰²

    // æ·»åŠ æµæ˜Ÿæ•ˆæœ
    function createMeteor() {
        const meteor = document.createElement('div');
        meteor.className = 'meteor';
        
        // éš¨æ©Ÿèµ·å§‹ä½ç½®ï¼ˆå¾è¢å¹•ä¸Šæ–¹æˆ–å³å´é–‹å§‹ï¼‰
        const startFromTop = Math.random() > 0.5;
        const x = startFromTop ? Math.random() * window.innerWidth : window.innerWidth;
        const y = startFromTop ? -10 : Math.random() * window.innerHeight;
        
        meteor.style.left = x + 'px';
        meteor.style.top = y + 'px';
        
        // éš¨æ©Ÿå¤§å°
        const scale = Math.random() * 0.5 + 0.5;
        meteor.style.transform = `rotate(-45deg) scale(${scale})`;
        
        document.body.appendChild(meteor);
        
        // æµæ˜Ÿå‹•ç•«
        const angle = -45; // æµæ˜Ÿè§’åº¦
        const speed = Math.random() * 200 + 100; // éš¨æ©Ÿé€Ÿåº¦
        let currentX = x;
        let currentY = y;
        
        function animateMeteor() {
            currentX -= Math.cos(angle * Math.PI / 180) * speed / 60;
            currentY += Math.sin(-angle * Math.PI / 180) * speed / 60;
            
            meteor.style.left = currentX + 'px';
            meteor.style.top = currentY + 'px';
            
            // ç•¶æµæ˜Ÿé›¢é–‹è¢å¹•æ™‚ç§»é™¤
            if (currentX < -200 || currentY > window.innerHeight + 200) {
                meteor.remove();
            } else {
                requestAnimationFrame(animateMeteor);
            }
        }
        
        animateMeteor();
    }

    // å®šæœŸç”¢ç”Ÿæµæ˜Ÿ
    function generateMeteors() {
        if (Math.random() < 0.3) { // 30%æ©Ÿç‡ç”¢ç”Ÿæµæ˜Ÿ
            createMeteor();
        }
        setTimeout(generateMeteors, Math.random() * 2000 + 1000); // 1-3ç§’é–“éš”
    }

    // é–‹å§‹ç”¢ç”Ÿæµæ˜Ÿ
    generateMeteors();

    // åœ¨è¦–çª—å¤§å°æ”¹è®Šæ™‚çš„è™•ç†ä¸­æ·»åŠ æµæ˜Ÿé‡ç½®
    window.addEventListener('resize', () => {
        // ... existing resize code ...
        
        // ç§»é™¤æ‰€æœ‰ç¾æœ‰æµæ˜Ÿ
        const meteors = document.querySelectorAll('.meteor');
        meteors.forEach(meteor => meteor.remove());
    });
</script>
</body>
</html> 